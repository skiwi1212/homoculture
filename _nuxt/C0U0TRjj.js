import{g as R}from"./BRq0JzQT.js";import{_ as H}from"./sNMN7HI-.js";import{X as B,L as I,d as k,K as Q,H as b,j as p,w as g,M as _,J as o,Y,Q as q,z as Z,N as W,e as M,G as ee,F as ae,R as L,n as C,g as E,f as N,C as P,t as F,h as te,r as oe,Z as ne,$ as le}from"./B0V24EwP.js";import{t as K}from"./U8GGLJAD.js";import{u as se}from"./C_af6Bvf.js";import{u as re,c as X}from"./D2G85vdH.js";import{u as ie}from"./cWDgdZQ2.js";import{u as S}from"./BRUjb3y6.js";import{P as G}from"./BIi6r2t3.js";import{_ as de,a as ue,b as ce}from"./U7rQZL08.js";import{u as fe}from"./D36rqGaW.js";import{r as pe}from"./Bxj6KYvj.js";import{t as me}from"./Bx2iG1R3.js";import{t as T}from"./M5iOQWe1.js";import"./CMeV7kYO.js";import"./T18DsmPv.js";import"./ClGykRXb.js";import"./7S1bh0fE.js";function ge(t){return t==null}function be(t,n){return ge(t)?!1:Array.isArray(t)?t.some(e=>B(e,n)):B(t,n)}function ve({type:t,defaultValue:n,modelValue:e}){const a=e||n;return e!==void 0||n!==void 0?Array.isArray(a)?"multiple":"single":t??"single"}function ye({type:t,defaultValue:n,modelValue:e}){return t||ve({type:t,defaultValue:n,modelValue:e})}function he({type:t,defaultValue:n}){return n!==void 0?n:t==="single"?void 0:[]}function _e(t,n){const e=I(()=>ye(t)),a=re(t,"modelValue",n,{defaultValue:he(t),passive:t.modelValue===void 0,deep:!0});function r(i){if(e.value==="single")a.value=B(i,a.value)?void 0:i;else{const l=Array.isArray(a.value)?[...a.value||[]]:[a.value].filter(Boolean);if(be(l,i)){const u=l.findIndex(f=>B(f,i));l.splice(u,1)}else l.push(i);a.value=l}}const d=I(()=>e.value==="single");return{modelValue:a,changeModelValue:r,isSingle:d}}const[D,Ae]=X("AccordionRoot"),Ce=k({__name:"AccordionRoot",props:{collapsible:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dir:{},orientation:{default:"vertical"},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{},type:{},modelValue:{},defaultValue:{}},emits:["update:modelValue"],setup(t,{emit:n}){const e=t,a=n,{dir:r,disabled:d,unmountOnHide:i}=Q(e),l=ie(r),{modelValue:u,changeModelValue:f,isSingle:m}=_e(e,a),{forwardRef:s,currentElement:c}=S();return Ae({disabled:d,direction:l,orientation:e.orientation,parentElement:c,isSingle:m,collapsible:e.collapsible,modelValue:u,changeModelValue:f,unmountOnHide:i}),(A,v)=>(p(),b(o(G),{ref:o(s),"as-child":A.asChild,as:A.as},{default:g(()=>[_(A.$slots,"default",{modelValue:o(u)})]),_:3},8,["as-child","as"]))}}),Ie=["INPUT","TEXTAREA"];function we(t,n,e,a={}){if(!n||a.enableIgnoredElement&&Ie.includes(n.nodeName))return null;const{arrowKeyOptions:r="both",attributeName:d="[data-reka-collection-item]",itemsArray:i=[],loop:l=!0,dir:u="ltr",preventScroll:f=!0,focus:m=!1}=a,[s,c,A,v,w,V]=[t.key==="ArrowRight",t.key==="ArrowLeft",t.key==="ArrowUp",t.key==="ArrowDown",t.key==="Home",t.key==="End"],y=A||v,x=s||c;if(!w&&!V&&(!y&&!x||r==="vertical"&&x||r==="horizontal"&&y))return null;const h=e?Array.from(e.querySelectorAll(d)):i;if(!h.length)return null;f&&t.preventDefault();let $=null;return x||y?$=J(h,n,{goForward:y?v:u==="ltr"?s:c,loop:l}):w?$=h.at(0)||null:V&&($=h.at(-1)||null),m&&($==null||$.focus()),$}function J(t,n,e,a=t.length){if(--a===0)return null;const r=t.indexOf(n),d=e.goForward?r+1:r-1;if(!e.loop&&(d<0||d>=t.length))return null;const i=(d+t.length)%t.length,l=t[i];return l?l.hasAttribute("disabled")&&l.getAttribute("disabled")!=="false"?J(t,l,e,a):l:null}const[O,Ve]=X("AccordionItem"),$e=k({__name:"AccordionItem",props:{disabled:{type:Boolean},value:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t,{expose:n}){const e=t,a=D(),r=I(()=>a.isSingle.value?e.value===a.modelValue.value:Array.isArray(a.modelValue.value)&&a.modelValue.value.includes(e.value)),d=I(()=>a.disabled.value||e.disabled),i=I(()=>d.value?"":void 0),l=I(()=>r.value?"open":"closed");n({open:r,dataDisabled:i});const{currentRef:u,currentElement:f}=S();Ve({open:r,dataState:l,disabled:d,dataDisabled:i,triggerId:"",currentRef:u,currentElement:f,value:I(()=>e.value)});function m(s){var w;const c=s.target;if(Array.from(((w=a.parentElement.value)==null?void 0:w.querySelectorAll("[data-reka-collection-item]"))??[]).findIndex(V=>V===c)===-1)return null;we(s,f.value,a.parentElement.value,{arrowKeyOptions:a.orientation,dir:a.direction.value,focus:!0})}return(s,c)=>(p(),b(o(de),{"data-orientation":o(a).orientation,"data-disabled":i.value,"data-state":l.value,disabled:d.value,open:r.value,as:e.as,"as-child":e.asChild,"unmount-on-hide":o(a).unmountOnHide.value,onKeydown:Y(m,["up","down","left","right","home","end"])},{default:g(()=>[_(s.$slots,"default",{open:r.value})]),_:3},8,["data-orientation","data-disabled","data-state","disabled","open","as","as-child","unmount-on-hide"]))}}),ke=k({__name:"AccordionContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const n=t,e=D(),a=O();return S(),(r,d)=>(p(),b(o(ue),{role:"region","as-child":n.asChild,"force-mount":n.forceMount,"aria-labelledby":o(a).triggerId,"data-state":o(a).dataState.value,"data-disabled":o(a).dataDisabled.value,"data-orientation":o(e).orientation,style:{"--reka-accordion-content-width":"var(--reka-collapsible-content-width)","--reka-accordion-content-height":"var(--reka-collapsible-content-height)"},onContentFound:d[0]||(d[0]=i=>o(e).changeModelValue(o(a).value.value))},{default:g(()=>[_(r.$slots,"default")]),_:3},8,["as-child","force-mount","aria-labelledby","data-state","data-disabled","data-orientation"]))}}),xe=k({__name:"AccordionHeader",props:{asChild:{type:Boolean},as:{default:"h3"}},setup(t){const n=t,e=D(),a=O();return S(),(r,d)=>(p(),b(o(G),{as:n.as,"as-child":n.asChild,"data-orientation":o(e).orientation,"data-state":o(a).dataState.value,"data-disabled":o(a).dataDisabled.value},{default:g(()=>[_(r.$slots,"default")]),_:3},8,["as","as-child","data-orientation","data-state","data-disabled"]))}}),Be=k({__name:"AccordionTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const n=t,e=D(),a=O();a.triggerId||(a.triggerId=fe(void 0,"reka-accordion-trigger"));function r(){const d=e.isSingle.value&&a.open.value&&!e.collapsible;a.disabled.value||d||e.changeModelValue(a.value.value)}return(d,i)=>(p(),b(o(ce),{id:o(a).triggerId,ref:o(a).currentRef,"data-reka-collection-item":"",as:n.as,"as-child":n.asChild,"aria-disabled":o(a).disabled.value||void 0,"aria-expanded":o(a).open.value||!1,"data-disabled":o(a).dataDisabled.value,"data-orientation":o(e).orientation,"data-state":o(a).dataState.value,disabled:o(a).disabled.value,onClick:r},{default:g(()=>[_(d.$slots,"default")]),_:3},8,["id","as","as-child","aria-disabled","aria-expanded","data-disabled","data-orientation","data-state","disabled"]))}}),Se={slots:{root:"w-full",item:"border-b border-(--ui-border) last:border-b-0",header:"flex",trigger:"group flex-1 flex items-center gap-1.5 font-medium text-sm py-3.5 focus-visible:outline-(--ui-primary) min-w-0",content:"data-[state=open]:animate-[accordion-down_200ms_ease-out] data-[state=closed]:animate-[accordion-up_200ms_ease-out] overflow-hidden focus:outline-none",body:"text-sm pb-3.5",leadingIcon:"shrink-0 size-5",trailingIcon:"shrink-0 size-5 ms-auto group-data-[state=open]:rotate-180 transition-transform duration-200",label:"text-start break-words"},variants:{disabled:{true:{trigger:"cursor-not-allowed opacity-75"}}}},De=L;var z;const Ee=K({extend:K(Se),...((z=De.ui)==null?void 0:z.accordion)||{}}),Ne=k({__name:"Accordion",props:{as:{},items:{},trailingIcon:{},labelKey:{default:"label"},class:{},ui:{},collapsible:{type:Boolean,default:!0},defaultValue:{},modelValue:{},type:{default:"single"},disabled:{type:Boolean},unmountOnHide:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(t,{emit:n}){const e=t,a=n,r=q(),d=Z(),i=se(pe(e,"as","collapsible","defaultValue","disabled","modelValue","type","unmountOnHide"),a),l=I(()=>Ee({disabled:e.disabled}));return(u,f)=>{var m;return p(),b(o(Ce),W(o(i),{class:l.value.root({class:[e.class,(m=e.ui)==null?void 0:m.root]})}),{default:g(()=>[(p(!0),M(ae,null,ee(e.items,(s,c)=>{var A;return p(),b(o($e),{key:c,value:s.value||String(c),disabled:s.disabled,class:C(l.value.item({class:(A=e.ui)==null?void 0:A.item}))},{default:g(({open:v})=>{var w,V;return[E(o(xe),{class:C(l.value.header({class:(w=e.ui)==null?void 0:w.header}))},{default:g(()=>{var y;return[E(o(Be),{class:C(l.value.trigger({class:(y=e.ui)==null?void 0:y.trigger,disabled:s.disabled}))},{default:g(()=>{var x;return[_(u.$slots,"leading",{item:s,index:c,open:v},()=>{var h;return[s.icon?(p(),b(H,{key:0,name:s.icon,class:C(l.value.leadingIcon({class:(h=e.ui)==null?void 0:h.leadingIcon}))},null,8,["name","class"])):N("",!0)]}),o(R)(s,e.labelKey)||r.default?(p(),M("span",{key:0,class:C(l.value.label({class:(x=e.ui)==null?void 0:x.label}))},[_(u.$slots,"default",{item:s,index:c,open:v},()=>[P(F(o(R)(s,e.labelKey)),1)])],2)):N("",!0),_(u.$slots,"trailing",{item:s,index:c,open:v},()=>{var h;return[E(H,{name:s.trailingIcon||u.trailingIcon||o(d).ui.icons.chevronDown,class:C(l.value.trailingIcon({class:(h=e.ui)==null?void 0:h.trailingIcon}))},null,8,["name","class"])]})]}),_:2},1032,["class"])]}),_:2},1032,["class"]),s.content||r.content||s.slot&&r[s.slot]||r.body||s.slot&&r[`${s.slot}-body`]?(p(),b(o(ke),{key:0,class:C(l.value.content({class:(V=e.ui)==null?void 0:V.content}))},{default:g(()=>[_(u.$slots,s.slot||"content",{item:s,index:c,open:v},()=>{var y;return[te("div",{class:C(l.value.body({class:(y=e.ui)==null?void 0:y.body}))},[_(u.$slots,s.slot?`${s.slot}-body`:"body",{item:s,index:c,open:v},()=>[P(F(s.content),1)])],2)]})]),_:2},1032,["class"])):N("",!0)]}),_:2},1032,["value","disabled","class"])}),128))]),_:3},16,["class"])}}}),Oe={slots:{root:"my-5",trigger:"text-base"}},Re=L;var U,j;const He=T({extend:T(Oe),...((j=(U=Re.uiPro)==null?void 0:U.prose)==null?void 0:j.accordion)||{}}),ta=k({__name:"Accordion",props:{type:{default:"multiple"},class:{}},setup(t){const n=t,e=q(),a=oe(1),r=I(()=>{var i,l;return a.value,((l=(i=e.default)==null?void 0:i.call(e))==null?void 0:l.flatMap(d).filter(Boolean))||[]});function d(i,l){var u,f,m;return typeof i.type=="symbol"?(u=i.children)==null?void 0:u.map(d):{index:l,label:((f=i.props)==null?void 0:f.label)||`${l}`,icon:(m=i.props)==null?void 0:m.icon,component:i}}return ne(()=>a.value++),(i,l)=>{const u=Ne;return p(),b(u,{type:i.type,items:r.value,"unmount-on-hide":!1,class:C(n.class),ui:o(me)(o(He)())},{content:g(({item:f})=>[(p(),b(le(f.component)))]),_:1},8,["type","items","class","ui"])}}});export{ta as default};
